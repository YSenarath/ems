{# AppBundle/Resources/views/location/areas.html.twig #}
{% extends 'AppBundle::base.html.twig' %}
 {% block otherstylesheets %}
     {#Sidebar style#}
     <link rel="stylesheet" href="{{ asset('bundles/framework/css/reportAreaSideBarStyle.css') }}"/>

     <style>
         #map {
             height: 100%;
             width: 100%;
             margin: 0px;
             position: relative;
         }
     </style>
 {% endblock %}

{% block body %}
    <div class="container-fluid">
        <div class="col-md-6">
            <div class="row">
                <ul class="list-unstyled">
                    {% for area in areas %}
                        {% if area.name|trim is not empty %}
                            <li class="col-md-6"><h3><a  href="{{ path('locationAreaView', {'viewArea':  area.name}) }}">{{ area.name }}</a>
                                </h3>
                            </li>
                        {% endif %}
                    {% endfor %}

                </ul>
            </div>
        </div>
        <div class="col-md-6">
            <div class = "container" style="height: 400px; width: 600px">
                <div id="map">
                    <script>
                        var map;
                        function initMap() {
                            map = new google.maps.Map(document.getElementById('map'), {
                                center: {lat: 6.93, lng: 79.86},
                                zoom: 12
                            });

                            {% for district in districts %}
                            var $title = {{ district['name']|json_encode|raw }};
                            var $long = {{ district['center_longitude']|json_encode|raw }};
                            var $lati = {{ district['center_latitude']|json_encode|raw }};
                            var marker = new google.maps.Marker({
                                position: {lat: parseFloat($lati), lng: parseFloat($long)},
                                map: map,
                                title: $title
                            });
                            {% endfor %}
                        }
                    </script>
                    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBtfolL32-vwpZgGcIkYMFA5Ajy2svBwbM&callback=initMap"
                            async defer></script>
                </div>
            </div>
        </div>
    </div>
    {% if (js is defined) %}{{ js|raw }}{% endif %}
{% endblock %}